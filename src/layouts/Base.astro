<script type="module">
  import { createClient } from "https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/+esm";

  const SB_URL = document.querySelector('meta[name="x-sb-url"]')?.content || "";
  const SB_KEY = document.querySelector('meta[name="x-sb-key"]')?.content || "";

  // Reuse the same global client (prevents the warning)
  const supabase =
    window.__sb ??= createClient(SB_URL, SB_KEY, {
      auth: { persistSession: true, storageKey: "karih-auth" }
    });

  // ...keep the rest of your Base.astro auth UI code the same...
</script>
